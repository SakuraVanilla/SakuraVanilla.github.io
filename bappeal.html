<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ban Appeal</title>
</head>
<body>
  <form id="banAppealForm">
    <input type="text" id="ign" placeholder="IGN" required />
    <input type="text" id="discord" placeholder="Discord (username#1234)" required />
    <textarea id="reason" placeholder="Reason for appeal" required></textarea>
    <button type="submit">Submit Appeal</button>
  </form>
  <p id="confirmation" style="color: green; display:none;">Appeal submitted successfully!</p>

  <script>
    const form = document.getElementById('banAppealForm');
    const ignInput = document.getElementById('ign');
    const discordInput = document.getElementById('discord');
    const reasonInput = document.getElementById('reason');
    const confirmation = document.getElementById('confirmation');

    form.addEventListener('submit', async e => {
      e.preventDefault();

      let ign = ignInput.value.trim();
      let discordName = discordInput.value.trim();
      let reason = reasonInput.value.trim();

      // Remove discriminator (#1234) from Discord username
      if (discordName.includes('#')) {
        discordName = discordName.split('#')[0];
      }

      if (!ign || !discordName || !reason) {
        alert('Please fill in all fields.');
        return;
      }

      try {
        await fetch('https://l.webhook.party/hook/your-ban-appeal-webhook-url', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            IGN: ign,
            Discord: discordName,
            Reason: reason
          })
        });

        confirmation.style.display = 'block';

        // Clear the form fields after successful submission
        ignInput.value = '';
        discordInput.value = '';
        reasonInput.value = '';

      } catch (error) {
        alert('Failed to submit appeal. Please try again.');
      }
    });
  </script>
</body>
</html>
